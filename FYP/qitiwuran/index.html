
<!doctype html>
<html>
  <head>
    <link href="../../images/favicon.ico" rel="icon" type="image/ico" />
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>毕业设计-郑俊安</title>

    <style>
    </style>
    <link href="../../stylesheets/screen-fcbd2422.css" rel="stylesheet" media="screen" />
    <link href="../../stylesheets/print-03345fdb.css" rel="stylesheet" media="print" />
  </head>

  <body> 
    <header class="Header">
  <div class="Header-item">
    <a class="Header-logo-main" href="https://github.com/iiwowks">
      <svg class="icon" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
    </a>
    <!--
    <a class="Header-logo" href="https://github.com/iiwowks/docs">
      <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12664" width="32" height="32"><path d="M512 64C264.58 64 64 264.58 64 512s200.58 448 448 448 448-200.58 448-448S759.42 64 512 64zM284 576a64 64 0 1 1 64-64 64 64 0 0 1-64 64z m228 0a64 64 0 1 1 64-64 64 64 0 0 1-64 64z m228 0a64 64 0 1 1 64-64 64 64 0 0 1-64 64z" fill="#555555" p-id="12665"></path></svg>
    </a>
    -->
  </div>

  <div class="Header-item-s">
    <details class="details-overlay details-reset">
      <summary class="Header-link">
      实时监控
      </summary>
      <details-menu class="dropdown-menu dropdown-menu-sw mt-n2">
        <a class="dropdown-item" href="/FYP/wenshidu">温度 湿度</a>
        <a class="dropdown-item" href="/FYP/qitiwuran">气体污染</a>
      </details-menu>
    </details>
  </div>
  
  <div class="Header-item--title">
    <nav class="d-flex" aria-label="Global">
      <a href="/FYP/404">数据查询</a>
      <a href="/FYP/dataLog">日志记录</a>
      <a href="/FYP/introduction">项目介绍</a>
    </nav>
  </div>
  <!--
  <a href="/docs/" >  
    <img class="avatar" alt="@iiwowks" width="32" height="32" src="../../images/icon-3d970a4c.jpg">
  </a>
  -->
</header>

    <div id="container" style="width:70%;height: 70%;margin-right:10%; margin-left: 10%;margin-top: 100px"></div>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
    <script type="text/javascript">
        var dom = document.getElementById("container");
        var myChart = echarts.init(dom);
        var app = {};
        option = null;
        var date = ['2018/1/1', '2018/1/2', '2018/1/3', '2018/1/4', '2018/1/5', '2018/1/6', '2018/1/7', '2018/1/8', '2018/1/9', '2018/1/10', '2018/1/11', '2018/1/12', '2018/1/13', '2018/1/14', '2018/1/15', '2018/1/16', '2018/1/17', '2018/1/18', '2018/1/19', '2018/1/20', '2018/1/21', '2018/1/22', '2018/1/23', '2018/1/24', '2018/1/25', '2018/1/26', '2018/1/27', '2018/1/28', '2018/1/29', '2018/1/30', '2018/1/31', '2018/2/1', '2018/2/2', '2018/2/3', '2018/2/4', '2018/2/5', '2018/2/6', '2018/2/7', '2018/2/8', '2018/2/9', '2018/2/10', '2018/2/11', '2018/2/12', '2018/2/13', '2018/2/14', '2018/2/15', '2018/2/16', '2018/2/17', '2018/2/18', '2018/2/19', '2018/2/20', '2018/2/21', '2018/2/22', '2018/2/23', '2018/2/24', '2018/2/25', '2018/2/26', '2018/2/27', '2018/2/28', '2018/3/1', '2018/3/2', '2018/3/3', '2018/3/4', '2018/3/5', '2018/3/6', '2018/3/7', '2018/3/8', '2018/3/9', '2018/3/10', '2018/3/11', '2018/3/12', '2018/3/13', '2018/3/14', '2018/3/15', '2018/3/16', '2018/3/17', '2018/3/18', '2018/3/19', '2018/3/20', '2018/3/21', '2018/3/22', '2018/3/23', '2018/3/24', '2018/3/25', '2018/3/26', '2018/3/27', '2018/3/28', '2018/3/29', '2018/3/30', '2018/3/31', '2018/4/1', '2018/4/2', '2018/4/3', '2018/4/4', '2018/4/5', '2018/4/6', '2018/4/7', '2018/4/8', '2018/4/9', '2018/4/10', '2018/4/11', '2018/4/12', '2018/4/13', '2018/4/14', '2018/4/15', '2018/4/16', '2018/4/17', '2018/4/18', '2018/4/19', '2018/4/20', '2018/4/21', '2018/4/22', '2018/4/23', '2018/4/24', '2018/4/25', '2018/4/26', '2018/4/27', '2018/4/28', '2018/4/29', '2018/4/30', '2018/5/1', '2018/5/2', '2018/5/3', '2018/5/4', '2018/5/5', '2018/5/6', '2018/5/7', '2018/5/8', '2018/5/9', '2018/5/10', '2018/5/11', '2018/5/12', '2018/5/13', '2018/5/14', '2018/5/15', '2018/5/16', '2018/5/17', '2018/5/18', '2018/5/19', '2018/5/20', '2018/5/21', '2018/5/22', '2018/5/23', '2018/5/24', '2018/5/25', '2018/5/26', '2018/5/27', '2018/5/28', '2018/5/29', '2018/5/30', '2018/5/31', '2018/6/1', '2018/6/2', '2018/6/3', '2018/6/4', '2018/6/5', '2018/6/6', '2018/6/7', '2018/6/8', '2018/6/9', '2018/6/10', '2018/6/11', '2018/6/12', '2018/6/13', '2018/6/14', '2018/6/15', '2018/6/16', '2018/6/17', '2018/6/18', '2018/6/19', '2018/6/20', '2018/6/21', '2018/6/22', '2018/6/23', '2018/6/24', '2018/6/25', '2018/6/26', '2018/6/27', '2018/6/28', '2018/6/29', '2018/6/30', '2018/7/1', '2018/7/2', '2018/7/3', '2018/7/4', '2018/7/5', '2018/7/6', '2018/7/7', '2018/7/8', '2018/7/9', '2018/7/10', '2018/7/11', '2018/7/12', '2018/7/13', '2018/7/14', '2018/7/15', '2018/7/16', '2018/7/17', '2018/7/18', '2018/7/19'];
        var data1 = [21.80684707, 26.3251349, 30.90031512, 21.86955686, 25.49184668, 24.83938218, 23.47119853, 25.0849845, 23.95474853, 26.69788427, 23.62292979, 23.6136075, 23.51915976, 24.5908001, 20.81621366, 19.704415342, 18.98010261, 24.96460971, 26.74146478, 27.859972555, 23.88861301, 23.84383251, 22.21523201, 23.49534644, 27.99777771, 30.40058509, 24.50203046, 21.05597565, 16.73823245, 24.23881504, 28.72333337, 20.79999822, 20.27229505, 21.73915692, 21.92959602, 17.885734725, 21.47591429, 21.15582952, 23.713371523, 21.71930731, 22.55755791, 22.36268341, 28.0092417, 26.24553228, 32.9920189, 32.878907952, 31.04970446, 24.94552692, 24.23828995, 29.46075052, 23.60172995, 27.259857586, 26.28508853, 21.63406636, 14.81670814, 29.94684773, 21.01907092, 20.73431293, 18.21047901, 16.82453426, 13.71925948, 14.70913416, 24.16764678, 25.26362386, 24.54263116, 27.95109269, 27.51587121, 27.52959856, 27.44338977, 26.82298487, 24.23524436, 24.1430715, 11.34577365, 26.92812492, 26.60445869, 22.08520732, 24.13906505, 23.54351889, 29.81108726, 20.58966951, 29.13406774, 21.07074913, 20.01734591, 21.18256714, 24.818652397, 21.41016636, 15.6402382, 27.09522909, 31.87176344, 24.19790012, 30.90954713, 30.384409302, 20.60083809, 23.58236181, 29.87957971, 27.46387393, 25.43432103, 32.71417996, 23.04047591, 27.25021655, 24.67395465, 27.39940399, 37.55997091, 3.1686951, 33.3507244, 22.39784889, 27.47086346, 23.97229008, 31.784702664, 34.87999362, 16.314067943, 15.46714316, 22.51094409, 22.33995522, 22.673608682, 31.41498885, 18.11574833, 25.73662289, 23.27249781, 14.01381515, 10.26738914, 29.6421467, 16.42226522, 32.19331888, 32.54953269, 17.57616528, 22.53427339, 21.49743489, 25.6866275, 31.74127688, 40.71669844, 21.56494955, 21.04448176, 31.38878038, 31.34590906, 23.98360333, 23.77828362, 23.249587, 19.57835917, 12.1274365, 12.72819, 22.91413904, 11.4062737, 17.75703979, 15.05983719, 60.40413761, 7.825011684, 2.092810984, 19.42414484, 78.23965775, 53.92219635, 23.89652046, 48.14715286, 20.98662814, 80.6705945, 77.43326687, 80.33339249, 27.60454063, 81.69971374, 5.976957157, 53.65645949, 42.74538169, 15.87188613, 17.30292408, 65.54436866, 40.13265466, 52.26879337, 41.33452443, 25.90948779, 48.01987544, 12.67247009, 12.5030771, 26.49598536, 40.61399171, 33.9570608, 31.78369356, 17.24479971, 25.41319306, 3.81874889, 13.45712068, 28.91049175, 18.48299137, 32.51091381, 21.0670869, 30.60238246, 1.762258692, 34.9308466, 20.33722396, 9.525701163, 34.96707327, 36.8329054, 13.11698303, 32.15263115, 35.10441106, 34.53046821, 36.12124853, 44.91252159, 23.6967316, 30.20037105, 10.932147964];
        var data2 = [62.36015685, 57.5931254, 59.55641198, 18.1886098, 21.9615511, 86.86123171, 65.87979228, 45.96676024, 77.84757823, 83.59624159, 70.48238294, 84.63835756, 63.6107992, 16.34722552, 69.86020738, 34.21953473, 57.35573742, 35.39864703, 67.78010301, 5.388717316, 1.73522338, 48.87611192, 45.57830595, 27.45183099, 6.088515198, 43.57089015, 12.55809904, 98.94458309, 43.09184707, 5.643452964, 67.01752373, 2.233848041, 29.05560322, 48.38359282, 48.13608785, 8.170808385, 47.47405017, 94.13466616, 98.64566033, 90.54394299, 51.3997845, 87.22317716, 86.20147337, 9.62963208, 7.147718495, 56.90265426, 97.74235627, 49.79935339, 59.96658081, 98.21817781, 22.63734889, 96.93844822, 92.08778759, 95.19208608, 85.14210411, 3.056150315, 92.84537374, 10.57979082, 62.3074068, 70.38694508, 6.121530161, 6.214513488, 68.43263442, 64.78955751, 22.53028267, 41.72771823, 76.34186959, 59.01515221, 20.04487355, 5.189420567, 13.06944134, 22.1370325, 35.01356826, 40.13874626, 12.00263012, 36.84558072, 0.467430913, 20.80752822, 99.51309813, 39.8597046, 67.12142806, 38.88259395, 71.69336688, 41.74593632, 32.48336461, 62.62410154, 75.58786048, 74.12981777, 33.6801738, 46.07489765, 36.81967078, 34.56163757, 78.39180894, 45.86606637, 3.236127927, 15.45941126, 76.55941834, 57.41936298, 95.68232203, 96.93210087, 11.47399723, 66.52596531, 90.09932864, 39.26510664, 33.10553742, 22.4080823, 33.03935814, 61.43262518, 27.19400338, 27.22862153, 54.15212132, 88.84594632, 78.94844001, 68.33322856, 54.12573076, 13.58358926, 75.18899943, 48.06695872, 5.086344878, 54.13223983, 85.48004718, 47.05426216, 40.46095762, 11.01336764, 48.11686004, 2.51099875, 19.9987786, 52.45447296, 43.16054751, 31.08185535, 88.22534653, 47.67452327, 0.056955798, 48.1327863, 4.221436652, 26.03104341, 53.91885028, 7.416098969, 79.79236888, 97.91704589, 2.010690101, 79.61404964, 43.59589266, 70.9641738, 57.821279, 3.329744356, 53.93623583, 54.15110017, 65.02788541, 90.40387397, 45.63585129, 85.20890303, 68.65522446, 20.27113993, 24.58692341, 17.82740075, 80.59549128, 51.6562291, 25.14809636, 95.48393782, 0.644281345, 79.63908533, 68.12335824, 90.12161735, 33.03478573, 82.75813066, 27.78500203, 58.09632032, 69.26057745, 72.842001, 96.76446241, 16.32343351, 61.68451977, 19.83136315, 23.46630422, 51.35808099, 94.07851984, 60.55001819, 1.124998539, 26.67731023, 28.30621301, 26.4343861, 30.61315155, 25.99273272, 98.38745963, 12.5788006, 89.07345723, 53.45836951, 24.40932015, 86.89036757, 67.40907683, 50.27602842, 84.01066498, 46.37964693, 90.31598847, 28.29632617, 86.12409948, 59.76667946, 77.25062032, 24.4309032];
        // 数据要处理

        var xi = [];
        var yi1 = [];
        var yi2 = [];
        for (var i = 0; i < 50; i++) {
            xi.push(date[i]);
            yi1.push(data1[i]);
            yi2.push(data2[i]);
        }

        option = {
            title: {
                text: '气体污染',
                x: 'center',
            },
            xAxis: {
                type: 'category',
                boundaryGap: false,
                data: xi
            },
            tooltip: {
                trigger: 'axis'
            },
            yAxis: {
                name: '单位',
                type: 'value'
            },
            legend: {
                selectedMode: 'single',
                top:30
            },

            visualMap: {
                top: 10,
                right: 10,
                pieces: [
                {
                    gt: 0,
                    lte: 20,
                    color: '#cc0033'
                },
                {
                    gt: 20,
                    lte: 25,
                    color: '#096'
                },
                {
                    gt: 25,
                    lte: 40,
                    color: '#cc0033'
                }],
                outOfRange: {
                    color: '#999'
                }
            },
            series: [{
                name: 'CO2',
                data: yi1,
                type: 'line',
                // areaStyle: {},

                // 突出点
                markPoint: {
                    data: [
                        { type: 'max', name: '最大值' },
                        { type: 'min', name: '最小值' }
                    ]
                },
                //突出线
                markLine: {
                    symbol: ['none', 'none'],

                    data: [{
                        yAxis: 20
                    }, {
                        yAxis: 25
                    }]
                }
            },
            {
                name: 'CO',
                data: yi2,
                type: 'line',
                // areaStyle: {},
                // 突出点 需要改
                markPoint: {
                    data: [
                        { type: 'max', name: '最大值' },
                        { type: 'min', name: '最小值' }
                    ]
                },
                // 突出线
                markLine: {
                    symbol: 'none',
                    data: [
                        { type: 'average', name: '平均值' },

                    ]
                }
            }]
        };


        function addData(shift, x) {
            xi.push(date[x]);
            yi1.push(data1[x]);
            yi2.push(data2[x]);

            if (shift) {
                xi.shift();
                yi1.shift();
                yi2.shift();
            }
        }

        var i2 = 50;
        setInterval(function () {
            addData(true, i2);
            myChart.setOption({
                xAxis: {
                    data: xi
                },
                series: [{ data: yi1 }, { data: yi2 }]
            });
            i2++;
        }, 1000);
        if (option && typeof option === "object") {
            myChart.setOption(option, true);
        }
    </script>
  </body>
</html>
